name: Keep Render Backend Awake

on:
    schedule:
        # Runs every 14 minutes to prevent Render free tier from sleeping (it sleeps after 15 mins of inactivity)
        - cron: "*/14 * * * *"
    # Allows you to run this workflow manually from the Actions tab
    workflow_dispatch:

jobs:
    ping:
        runs-on: ubuntu-latest
        steps:
            - name: Ping Health Endpoint
              run: |
                  curl -f https://cipherlock-be.onrender.com/api/health || echo "Ping failed, but continuing..."
